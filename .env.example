# Crypto Sentinel Configuration Example
# Copy this file to .env and fill in your actual values

# =============================================================================
# REQUIRED: Alpaca API Credentials
# =============================================================================
# Get your API keys from: https://alpaca.markets/
ALPACA_API_KEY=your_alpaca_api_key_here
ALPACA_SECRET_KEY=your_alpaca_secret_key_here

# Use paper trading for safety (set to false only in production)
ALPACA_PAPER_TRADING=true

# =============================================================================
# REQUIRED: Google Cloud Configuration
# =============================================================================
# Your GCP project ID
GOOGLE_CLOUD_PROJECT=your-gcp-project-id

# Path to service account JSON file (for local development)
# In production, this is handled automatically by GCP
GOOGLE_APPLICATION_CREDENTIALS=./secrets/service-account.json

# =============================================================================
# REQUIRED: Discord Webhooks (Multi-destination Routing)
# =============================================================================
# Test/Development webhook (always required)
# All messages route here when TEST_MODE=true
TEST_DISCORD_WEBHOOK=https://discord.com/api/webhooks/your-test-webhook

# Environment mode: true = all traffic goes to TEST_DISCORD_WEBHOOK (safe default)
# Set to false ONLY in production with valid live webhooks
TEST_MODE=true

# Production webhooks (required when TEST_MODE=false)
# Uncomment and set these for production deployment:
# LIVE_CRYPTO_DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/crypto-forum-webhook
# LIVE_STOCK_DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/stock-forum-webhook

# Discord Bot Configuration (for Thread Recovery / Reading)
# Required for self-healing and avoiding duplicate signals on restart
# DISCORD_BOT_TOKEN=your_bot_token_here
# DISCORD_CHANNEL_ID_CRYPTO=your_crypto_channel_id_here
# DISCORD_CHANNEL_ID_STOCK=your_stock_channel_id_here

# Shadow Signal Webhook (for rejected signals analytics)
# Routes pattern detections that failed quality gates (Volume < 1.5x, R:R < 1.5)
# DISCORD_SHADOW_WEBHOOK_URL=https://discord.com/api/webhooks/shadow-signals

# =============================================================================
# OPTIONAL: Application Configuration
# =============================================================================
# Delay between processing symbols (seconds) to respect API rate limits
# Alpaca limit: 200 requests/minute = 0.3s minimum
# Recommended: 0.5s for safety buffer
RATE_LIMIT_DELAY=0.5

# Disable Secret Manager for local development (uses .env instead)
DISABLE_SECRET_MANAGER=true

# =============================================================================
# OPTIONAL: Market Data Caching (Development/Backtesting Only)
# =============================================================================
# Enable disk caching for market data API calls
# WARNING: Only useful for local development with frequent restarts
# DO NOT enable in production (ephemeral containers, daily data refresh)
# Cache location: .gemini/cache/ (auto-created, gitignored)
# Cache TTL: Expires daily at midnight UTC
ENABLE_MARKET_DATA_CACHE=false

# =============================================================================
# OPTIONAL: Execution Engine (Bracket Orders)
# =============================================================================
# SAFETY: Orders are ONLY submitted when BOTH conditions are met:
#   1. ALPACA_PAPER_TRADING=true (mandatory safety guard)
#   2. ENABLE_EXECUTION=true (explicit opt-in)

# Enable bracket order execution (Entry + Take-Profit + Stop-Loss)
ENABLE_EXECUTION=false

# Fixed dollar amount to risk per trade
# Position size calculated as: RISK_PER_TRADE / |entry_price - stop_loss|
RISK_PER_TRADE=100.0

# Enable equity (stock) trading
# IMPORTANT: Only set to true if you have a paid Alpaca plan with SIP data access
# Basic Alpaca plans cannot access SIP data and will receive errors
ENABLE_EQUITIES=false

# =============================================================================
# OPTIONAL: GCP Cloud Logging (for production environments)
# =============================================================================
# Enable structured JSON logging to GCP Cloud Logging
# When enabled, logs are sent to GCP AND displayed in the terminal (additive)
# Automatically works on Cloud Run/GKE with default credentials
ENABLE_GCP_LOGGING=false

# =============================================================================
# OPTIONAL: Portfolio Configuration
# =============================================================================
# Uncomment and customize to override default symbols
# CRYPTO_SYMBOLS=BTC/USD,ETH/USD,XRP/USD
# EQUITY_SYMBOLS=NVDA,QQQ,GLD
