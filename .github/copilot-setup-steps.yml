name: Setup Copilot Environment
steps:
  - name: Install Poetry
    run: curl -sSL https://install.python-poetry.org | python3 -

  - name: Set up Python
    uses: actions/setup-python@v4
    with:
      python-version: '3.11'
      cache: 'poetry'

  - name: Install Dependencies
    run: poetry install --no-interaction --no-root

  - name: JIT Warmup
    run: poetry run python -c "from src.crypto_signals.analysis.structural import warmup_jit; warmup_jit()"
